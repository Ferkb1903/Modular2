# ===================================================================
# MACRO OPTIMIZADO PARA PHANTOM DE AGUA PURA (REFERENCIA)
# ===================================================================
# 
# ðŸŽ¯ CONFIGURACIÃ“N SEGURA OPTIMIZADA:
#    â€¢ Phantom: 18Ã—18Ã—18 cm (vs 30Ã—30Ã—30 original)
#    â€¢ Solo agua homogÃ©nea (referencia para comparaciÃ³n)
#    â€¢ ReducciÃ³n tiempo simulaciÃ³n: ~4.6x
#    â€¢ FÃ­sica preservada con geometrÃ­a eficiente
#
# Autor: Equipo de FÃ­sica MÃ©dica
# Fecha: Septiembre 2024
# ===================================================================

/control/verbose 0
/tracking/verbose 0
/run/verbose 0
/event/verbose 0

# ===================================================================
# CONFIGURACIÃ“N DEL DETECTOR OPTIMIZADA
# ===================================================================

# Configurar el tipo de fuente y detector
/brachy/det/setSourceType TG186

# ===================================================================
# CONFIGURACIÃ“N DE MATERIALES OPTIMIZADA
# ===================================================================
# Mantener todo como agua (material por defecto)
# No se ejecuta comando de cambio de material

# ===================================================================
# CONFIGURACIÃ“N DE GEOMETRÃA OPTIMIZADA
# ===================================================================

# ðŸ—ï¸ PHANTOM OPTIMIZADO CON DISTANCIA SEGURA (18Ã—18Ã—18 cm)
/brachy/det/setPhantomSizeX 9.0 cm   # Radio = 9 cm â†’ DiÃ¡metro = 18 cm
/brachy/det/setPhantomSizeY 9.0 cm
/brachy/det/setPhantomSizeZ 9.0 cm

# ðŸ“¦ SIN HETEROGENEIDAD (phantom homogÃ©neo de agua)
# No se ejecutan comandos de heterogeneidad

# ===================================================================
# CONFIGURACIÃ“N DE FÃSICA
# ===================================================================
/brachy/phys/addPhysics emlivermore

# ===================================================================
# CONFIGURACIÃ“N DE SCORING OPTIMIZADA
# ===================================================================

# ðŸ“Š SCORING MESH OPTIMIZADO (20Ã—20 cm cubriendo toda la regiÃ³n de interÃ©s)
/score/create/boxMesh boxMesh_1
/score/mesh/boxSize 10. 10. 0.025 cm     # Â±10 cm (vs Â±16 cm original)
/score/mesh/nBin 100 100 1               # 100Ã—100Ã—1 bins (vs 320Ã—320Ã—1 original)
/score/mesh/translate/xyz 0. 0. 0. cm

# Configurar scorer de deposiciÃ³n de energÃ­a
/score/quantity/energyDeposit eDep

# ===================================================================
# CONFIGURACIÃ“N DE SIMULACIÃ“N
# ===================================================================

# ðŸ”¬ NÃšMERO DE EVENTOS (ajustable segÃºn necesidades)
# Para pruebas rÃ¡pidas: 1M eventos
# Para producciÃ³n: 10M eventos
/run/beamOn 10000000

# ===================================================================
# SALIDA DE RESULTADOS OPTIMIZADA
# ===================================================================
# ORIGINAL: /score/dumpQuantityToFile boxMesh_1 eDep EnergyDeposition_SAFE_Water.out
# ==> CONVERTIDO A ROOT OUTPUT:
/score/dumpQuantityToFile boxMesh_1 eDep EnergyDeposition_SAFE_Water.root
